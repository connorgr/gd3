<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GD3 Example Testing</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <p>GD3 Testing Page</p>
    <div id="testChart"></div>
    <div id="oncoprint"></div>
    <div id="subnetwork"></div>
    <div id="lolliplot"></div>

    <script src="util/d3.v3.js"></script>
    <script src="old/oncoprinter.js"></script>
    <script src="old/subnetwork.js"></script>
    <script src="old/lolliplots.js"></script>
    <script>
    // d3.json('exData/example-oncoprint.json', function(data) {
    //   var el = d3.select('#oncoprint'),
    //       M = data.M,
    //       sample2ty = data.sample2ty,
    //       coverage = data.coverage_str;

    //   d3.json('styles/default-style.json', function(styleData) {
    //     var style = styleData.oncoprint;
    //     oncoprinter(el, M, sample2ty, coverage, styleData);
    //   });
    // });

    // d3.json('exData/example-subnetwork.json', function(data) {
    //   var el = d3.select('#subnetwork'),
    //       edges = data.edges,
    //       nodes = data.nodes;
    //   console.log(data);

    //   d3.json('styles/default-style.json', function(styleData) {
    //     console.log(styleData);
    //     draw_subnetwork(el, nodes, edges, styleData);
    //   });
    // });

    d3.json('exData/example-lolliplot.json', function(data) {
      var el = d3.select('#lolliplot');

      d3.json('styles/pancancer-style.json', function(styleData) {
        console.log(data);
        console.log(styleData);
        //annotate_transcript(el, gene, mutations, proteinDomains, length, styling);
        for (gKey in Object.keys(data)) {
          var gene = Object.keys(data)[gKey],
              transcriptList = Object.keys(data[gene]);

          for (tKey in transcriptList) {
            var transcript = transcriptList[tKey],
                domains = data[gene][transcript].domains,
                length = data[gene][transcript].length,
                mutations = data[gene][transcript].mutations;

            annotate_transcript(el, gene, mutations, domains, length, styleData);
          }
        }
      });
    });
    </script>
  </body>
</html>